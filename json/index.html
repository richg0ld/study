<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>json 파싱 연습</title>
</head>
<body>
요 밑으로 글자 바뀜<br />
<div id="content">
    요기?
</div>
<input type="button" value="바꾸기" onClick="test()" />

<script>
    var xmlHttp = new XMLHttpRequest(); // 통신 객체 생성
    var json;
    //get방식
    function test(){ // 동작 함수
        console.log("clk");
        var url = "http://api.openweathermap.org/data/2.5/forecast/daily?q=seoul&cnt=2&APPID=8d554a626fc5d01d77812b612a6de257";
        xmlHttp.onreadystatechange = loader; //콜백 함수( 통신완료후 실행될 무언가 함수건 뭐건 )
        xmlHttp.open("GET", url, true); //get방식
        xmlHttp.send(null);
    }

    function loader() { // 콜백함수
        if(xmlHttp.readyState == 4) {//준비완료
            document.getElementById("content").innerHTML = '<img src="sn.jpg"/>';
            if(xmlHttp.status == 200) { //상태 정상
                temp = xmlHttp.responseText;
                document.getElementById("content").innerHTML = temp;
                json = JSON.parse(temp);
            }
        }
    }


</script>
</body>
</html>